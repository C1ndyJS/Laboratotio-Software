const express = require("express");
const router = express.Router();
const flightController = require('../controllers/flightController');
const authenticateToken = require('../middlewares/authMiddleware');

// Ruta para registrar un nuevo usuario
router.post("/register", flightController.register);
router.post("/enviarc", flightController.enviarCorreo);


// Ruta para iniciar sesi√≥n
router.post("/login", flightController.login);

// Definir las rutas
router.get("/CancelarVuelos", authenticateToken, flightController.getAllFlights); // Obtener vuelos del usuario
router.get("/Reservar", authenticateToken, flightController.getAllFlights); // Obtener vuelos del usuario
router.post("/crearvuelo", authenticateToken, flightController.createFlight); // Crear un vuelo nuevo
router.post("/Tarjetas", authenticateToken, flightController.createCard);
router.delete("/Tarjetas", authenticateToken, flightController.deleteCard);
router.delete("/CancelarVuelos/:CodigoVuelo", authenticateToken, flightController.cancelFlightController);
router.post("/ComprarVuelo", authenticateToken, flightController.BuyTicket);
router.delete('/CancelarCompra/:id', authenticateToken, flightController.cancelBuy);
router.post("/Reservar", authenticateToken, flightController.reserveTicket);
router.delete('/CancelarReserva/:id', authenticateToken, flightController.cancelReservation);
router.post('/CrearNoticias', authenticateToken, flightController.createNews);


module.exports = router;
